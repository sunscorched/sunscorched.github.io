---
layout: archive
author_profile: true
---

{% include base_path %}

<h2 class="archive__subtitle">{{ page.year }}</h2>

{% assign target_year = page.year | append: "" %}

{% assign posts_by_year = site.posts | where_exp: "post", "post.date | date: '%Y' == target_year" %}

{% for post in posts_by_year %}
  {% include archive-single.html %}
{% endfor %}

{% assign years = site.posts | map: "date" | uniq %}
{% assign year_strings = "" | split: "" %}
{% for d in years %}
  {% assign y = d | date: "%Y" %}
  {% assign year_strings = year_strings | push: y %}
{% endfor %}
{% assign year_strings = year_strings | uniq | sort %}

{% assign current_index = nil %}
{% for y in year_strings %}
  {% if y == target_year %}
    {% assign current_index = forloop.index0 %}
  {% endif %}
{% endfor %}

<div class="year-navigation" style="display:flex; justify-content:space-between; margin-top:2em;">
  {% if current_index and current_index > 0 %}
    {% assign prev_index = current_index | minus: 1 %}
    {% assign prev_year = year_strings[prev_index] %}
    <a href="{{ base_path }}/year-archive-{{ prev_year }}/">← {{ prev_year }}</a>
  {% endif %}

  {% if current_index and current_index < year_strings.size | minus: 1 %}
    {% assign next_index = current_index | plus: 1 %}
    {% assign next_year = year_strings[next_index] %}
    <a href="{{ base_path }}/year-archive-{{ next_year }}/">{{ next_year }} →</a>
  {% endif %}
</div>
